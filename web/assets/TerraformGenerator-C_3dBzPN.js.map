// Copyright James Burvel Oâ€™Callaghan III
// President Citibank Demo Business Inc.

{"version":3,"file":"TerraformGenerator-C_3dBzPN.js","sources":["../../components/features/TerraformGenerator.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { generateTerraformConfig } from '../../services/index.ts';\nimport { CpuChipIcon, SparklesIcon } from '../icons.tsx';\nimport { LoadingSpinner, MarkdownRenderer } from '../shared/index.tsx';\n\nexport const TerraformGenerator: React.FC = () => {\n    const [description, setDescription] = useState('An S3 bucket for static website hosting');\n    const [cloud, setCloud] = useState<'aws' | 'gcp'>('aws');\n    const [config, setConfig] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState('');\n\n    const handleGenerate = useCallback(async () => {\n        if (!description.trim()) {\n            setError('Please provide a description.');\n            return;\n        }\n        setIsLoading(true);\n        setError('');\n        setConfig('');\n        try {\n            // Context is stubbed for now but demonstrates future capability\n            const context = 'User might have existing VPCs. Check before creating new ones.';\n            const result = await generateTerraformConfig(cloud, description, context);\n            setConfig(result);\n        } catch (err) {\n            setError(err instanceof Error ? err.message : 'Failed to generate config.');\n        } finally {\n            setIsLoading(false);\n        }\n    }, [description, cloud]);\n\n    return (\n        <div className=\"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary\">\n            <header className=\"mb-6\">\n                <h1 className=\"text-3xl font-bold flex items-center\"><CpuChipIcon /><span className=\"ml-3\">AI Terraform Generator</span></h1>\n                <p className=\"text-text-secondary mt-1\">Generate infrastructure-as-code from a description, with context from your cloud provider.</p>\n            </header>\n            <div className=\"flex-grow flex flex-col gap-4 min-h-0\">\n                 <div className=\"flex flex-col flex-1 min-h-0\">\n                     <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n                        <div>\n                            <label className=\"block text-sm\">Cloud Provider</label>\n                            <select value={cloud} onChange={e => setCloud(e.target.value as 'aws' | 'gcp')} className=\"w-full mt-1 p-2 bg-surface border rounded\">\n                                <option value=\"aws\">AWS</option>\n                                <option value=\"gcp\">GCP</option>\n                            </select>\n                        </div>\n                        <div className=\"md:col-span-2\">\n                            <label className=\"block text-sm\">Describe the infrastructure</label>\n                            <input type=\"text\" value={description} onChange={e => setDescription(e.target.value)} className=\"w-full mt-1 p-2 bg-surface border rounded\"/>\n                        </div>\n                    </div>\n                     <button onClick={handleGenerate} disabled={isLoading} className=\"btn-primary w-full max-w-xs mx-auto flex items-center justify-center py-2\"><SparklesIcon /> {isLoading ? 'Generating...' : 'Generate Configuration'}</button>\n                </div>\n                 <div className=\"flex flex-col flex-grow min-h-0\">\n                    <label className=\"text-sm font-medium text-text-secondary mb-2\">Generated Terraform (.tf)</label>\n                    <div className=\"relative flex-grow p-1 bg-background border border-border rounded-md overflow-y-auto\">\n                        {isLoading && !config && <div className=\"flex items-center justify-center h-full\"><LoadingSpinner /></div>}\n                        {error && <p className=\"p-4 text-red-500\">{error}</p>}\n                        {config && <MarkdownRenderer content={config} />}\n                         {!isLoading && !config && !error && <div className=\"text-text-secondary h-full flex items-center justify-center\">Generated config will appear here.</div>}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};"],"names":["TerraformGenerator","description","setDescription","useState","cloud","setCloud","config","setConfig","isLoading","setIsLoading","error","setError","handleGenerate","useCallback","result","generateTerraformConfig","err","jsxs","jsx","CpuChipIcon","e","SparklesIcon","LoadingSpinner","MarkdownRenderer"],"mappings":"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"}